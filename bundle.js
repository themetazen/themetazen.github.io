(()=>{"use strict";const e=(e,t,n)=>{const a=(e=>{let t=e.replace(/^on/,"").toLowerCase();switch("change"===t&&(t="input"),t){case"change":return"input";case"doubleclick":return"dblclick";case"focus":return"focusin";case"blur":return"focusout";default:return t}})(t);e.addEventListener(a,n)},t=(e,n)=>{Array.isArray(n)?n.forEach((n=>t(e,n))):n instanceof HTMLElement||"object"==typeof n?e.appendChild(n):e.appendChild(document.createTextNode(n))};var n;!function(e){e.host="https://api.coingecko.com/api/v3",e.actionCoin="/coins/markets"}(n||(n={}));var a="metazen",s={usd:{name:"United States Dollar",symbol:"$"},eur:{name:"Euro",symbol:"€"},rub:{name:"Russian Ruble",symbol:"₽"},aed:{name:"UAE Dirham",symbol:"DH"},krw:{name:"South Korean Won",symbol:"₩"},cny:{name:"China Yuan",symbol:"¥"}},i={price:0,change:0,defaultStorage:{currency:"usd",address:null,lastPrice:0,lastChange:0}},o=function(e){return document.querySelector(e)},c=function(){document.documentElement.style.setProperty("--app-height","".concat(window.innerHeight,"px"))},r=JSON.parse(localStorage.getItem("".concat(a)))||i.defaultStorage,l=function(e){return void 0===e&&(e=!1),t=void 0,a=void 0,c=function(){var t,a,o,c,u,d;return function(e,t){var n,a,s,i,o={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return i={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function c(c){return function(r){return function(c){if(n)throw new TypeError("Generator is already executing.");for(;i&&(i=0,c[0]&&(o=0)),o;)try{if(n=1,a&&(s=2&c[0]?a.return:c[0]?a.throw||((s=a.return)&&s.call(a),0):a.next)&&!(s=s.call(a,c[1])).done)return s;switch(a=0,s&&(c=[2&c[0],s.value]),c[0]){case 0:case 1:s=c;break;case 4:return o.label++,{value:c[1],done:!1};case 5:o.label++,a=c[1],c=[0];continue;case 7:c=o.ops.pop(),o.trys.pop();continue;default:if(!((s=(s=o.trys).length>0&&s[s.length-1])||6!==c[0]&&2!==c[0])){o=0;continue}if(3===c[0]&&(!s||c[1]>s[0]&&c[1]<s[3])){o.label=c[1];break}if(6===c[0]&&o.label<s[1]){o.label=s[1],s=c;break}if(s&&o.label<s[2]){o.label=s[2],o.ops.push(c);break}s[2]&&o.ops.pop(),o.trys.pop();continue}c=t.call(e,o)}catch(e){c=[6,e],a=0}finally{n=s=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}([c,r])}}}(this,(function(h){switch(h.label){case 0:e&&(p.innerHTML='<div class="loader"></div>'),h.label=1;case 1:return h.trys.push([1,6,,7]),[4,fetch("".concat(n.host).concat(n.actionCoin,"?vs_currency=").concat(r.currency,"&ids=the-open-network"))];case 2:return(t=h.sent()).ok?[3,4]:(a=Error.bind,[4,t.text()]);case 3:throw new(a.apply(Error,[void 0,h.sent()]));case 4:return[4,t.json()];case 5:return o=h.sent(),c=Object.assign.apply(Object,function(e,t,n){if(n||2===arguments.length)for(var a,s=0,i=t.length;s<i;s++)!a&&s in t||(a||(a=Array.prototype.slice.call(t,0,s)),a[s]=t[s]);return e.concat(a||Array.prototype.slice.call(t))}([{}],o,!1)),u=c.current_price,d=c.price_change_percentage_24h,i.price=u.toFixed(2),i.change=d.toFixed(2),p.innerHTML='\n        <div class="card__price">'.concat(s[r.currency].symbol).concat(i.price,'</div>\n        <div class="card__change ').concat(i.change<0?"falling":"rising",'"}">\n            <strong>').concat(i.change,"% <span>&bull;</span> 24h<strong>\n        </div>\n    "),[3,7];case 6:throw h.sent();case 7:return setTimeout(l,6e4),[2]}}))},new((o=void 0)||(o=Promise))((function(e,n){function s(e){try{r(c.next(e))}catch(e){n(e)}}function i(e){try{r(c.throw(e))}catch(e){n(e)}}function r(t){var n;t.done?e(t.value):(n=t.value,n instanceof o?n:new o((function(e){e(n)}))).then(s,i)}r((c=c.apply(t,a||[])).next())}));var t,a,o,c};window.addEventListener("resize",c),c(),window.addEventListener("load",(function(){l(!0)}));var u,d,p=o("[data-toncoin-card]"),h=o("#slidebar .slidebar__toggle"),f=o("#slidebar .slidebar__body"),b=o("[data-account]"),y=Object.entries(s).map((function(e){return{name:e[0],label:e[1].name}}));new class{constructor(e,t){this.el=document.querySelector(e),this.el.classList.add("select"),this.options=t,this.selected=t.valueDefault,this.position="top"===t.position?"top":"bottom",this.#e(),this.#t()}#e(){this.el.innerHTML=this.#n()}#t(){this.el.addEventListener("click",(e=>{const{type:t}=e.target.dataset;if("input"===t||void 0===t||"arrow"===t)this.toggle();else if("item"===t){const t=e.target.dataset.id;this.select(t),this.close()}else"backdrop"===t&&this.close()})),this.value=this.el.querySelector("span")}get isOpen(){return this.el.classList.contains("open")}select(e){const{data:t}=this.options;this.selected=e;const n=t.find((e=>e.name===this.selected));this.value.textContent=n.label,this.options.onChange&&this.options.onChange(n)}toggle(){this.isOpen?this.close():this.open()}open(){this.el.classList.add("open")}close(){this.el.classList.remove("open")}#n(){const{data:e}=this.options,t=this.selected?e.find((e=>e.name===this.selected)):e[0],n=e.map((e=>`<li class="select__item" data-type="item" data-id="${e.name}">${e.label}</li>`));return`\n        <div class="select__backdrop" data-type="backdrop"></div>\n        <div class="select__input" data-type="input">\n          <span>${t.label}</span>\n          <i class="fa fa-chevron-down" data-type="arrow"></i> \n        </div>\n        <div class="select__dropdown ${this.position}">\n          <ul class="select__list">\n            ${n.join("")}\n          </ul>\n        </div>\n    `}}("[data-select-currency]",{data:y,valueDefault:r.currency,onChange:function(e){!function(e){r.currency=e.name,localStorage.setItem("".concat(a),JSON.stringify(r)),l(!0)}(e)},position:"top"}),h.addEventListener("click",(function(){h.classList.toggle("active"),f.classList.toggle("active")})),b.append((d=(u={disabled:!0,text:"Connect Wallet",onClick:function(){return alert("auth")}}).text,((n,a,...s)=>{if("function"==typeof n)return n({...a},s);let i=document.createElement(n);for(let t in a)if("style"===t)Object.keys(a.style).map((e=>i.style[e]=a.style[e]));else if("className"===t)i.setAttribute("class",a[t]);else if("on"===t.substring(0,2))e(i,t,a[t]);else if("disabled"===t){const e=a[t];i.disabled=e}else i.setAttribute(t,a[t]);return(s||[]).forEach((e=>t(i,e))),i})("button",{disabled:u.disabled,className:"btn",onClick:u.onClick},d)))})();