(()=>{"use strict";const e=(e,t,s)=>{const n=(e=>{let t=e.replace(/^on/,"").toLowerCase();switch("change"===t&&(t="input"),t){case"change":return"input";case"doubleclick":return"dblclick";case"focus":return"focusin";case"blur":return"focusout";default:return t}})(t);e.addEventListener(n,s)},t=(e,s)=>{Array.isArray(s)?s.forEach((s=>t(e,s))):s instanceof HTMLElement||"object"==typeof s?e.appendChild(s):e.appendChild(document.createTextNode(s))},s="metazen",n={usd:{name:"United States Dollar",symbol:"$"},eur:{name:"Euro",symbol:"€"},rub:{name:"Russian Ruble",symbol:"₽"},aed:{name:"UAE Dirham",symbol:"DH"},krw:{name:"South Korean Won",symbol:"₩"},cny:{name:"China Yuan",symbol:"¥"}},a=e=>document.querySelector(e),i=()=>{document.documentElement.style.setProperty("--app-height",`${window.innerHeight}px`)},l=JSON.parse(localStorage.getItem(`${s}`))||{currency:"usd",address:null,lastPrice:0,lastChange:0},o=async(e=!1)=>{e&&(c.innerHTML='<div class="loader"></div>');try{const e=await fetch(`https://api.coingecko.com/api/v3/coins/markets?vs_currency=${l.currency}&ids=the-open-network`);if(!e.ok)throw new Error(await e.text());(e=>{const t=Object.assign({},...e),{current_price:s,price_change_percentage_24h:a}=t,i=s.toFixed(2),o=a.toFixed(2),r=`\n        <div class="card__price">${n[l.currency].symbol}${i}</div>\n        <div class="card__change ${o<0?"falling":"rising"}"}">\n            <strong>${o}% <span>&bull;</span> 24h<strong>\n        </div>\n    `;c.innerHTML=r})(await e.json())}catch(e){throw e}setTimeout(o,6e4)};window.addEventListener("resize",i),i(),window.addEventListener("load",(()=>{o(!0)}));const c=a("[data-toncoin-card]"),r=a("#slidebar .slidebar__toggle"),d=a("#slidebar .slidebar__body"),u=a("[data-account]"),p=Object.entries(n).map((e=>({name:e[0],label:e[1].name})));new class{constructor(e,t){this.el=document.querySelector(e),this.el.classList.add("select"),this.options=t,this.selected=t.valueDefault,this.position="top"===t.position?"top":"bottom",this.#e(),this.#t()}#e(){this.el.innerHTML=this.#s()}#t(){this.el.addEventListener("click",(e=>{const{type:t}=e.target.dataset;if("input"===t||void 0===t||"arrow"===t)this.toggle();else if("item"===t){const t=e.target.dataset.id;this.select(t),this.close()}else"backdrop"===t&&this.close()})),this.value=this.el.querySelector("span")}get isOpen(){return this.el.classList.contains("open")}select(e){const{data:t}=this.options;this.selected=e;const s=t.find((e=>e.name===this.selected));this.value.textContent=s.label,this.options.onChange&&this.options.onChange(s)}toggle(){this.isOpen?this.close():this.open()}open(){this.el.classList.add("open")}close(){this.el.classList.remove("open")}#s(){const{data:e}=this.options,t=this.selected?e.find((e=>e.name===this.selected)):e[0],s=e.map((e=>`<li class="select__item" data-type="item" data-id="${e.name}">${e.label}</li>`));return`\n        <div class="select__backdrop" data-type="backdrop"></div>\n        <div class="select__input" data-type="input">\n          <span>${t.label}</span>\n          <i class="fa fa-chevron-down" data-type="arrow"></i> \n        </div>\n        <div class="select__dropdown ${this.position}">\n          <ul class="select__list">\n            ${s.join("")}\n          </ul>\n        </div>\n    `}}("[data-select-currency]",{data:p,valueDefault:l.currency,onChange(e){(e=>{l.currency=e.name,localStorage.setItem(`${s}`,JSON.stringify(l)),o(!0)})(e)},position:"top"}),r.addEventListener("click",(()=>{r.classList.toggle("active"),d.classList.toggle("active")})),u.append((({text:s,onClick:n,disabled:a})=>((s,n,...a)=>{if("function"==typeof s)return s({...n},a);let i=document.createElement(s);for(let t in n)if("style"===t)Object.keys(n.style).map((e=>i.style[e]=n.style[e]));else if("className"===t)i.setAttribute("class",n[t]);else if("on"===t.substring(0,2))e(i,t,n[t]);else if("disabled"===t){const e=n[t];i.disabled=e}else i.setAttribute(t,n[t]);return(a||[]).forEach((e=>t(i,e))),i})("button",{disabled:a,className:"btn",onClick:n},s))({disabled:!0,text:"Connect Wallet",onClick:()=>alert("auth")}))})();